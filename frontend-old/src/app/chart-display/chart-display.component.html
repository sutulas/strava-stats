<mat-card class="chart-display-card" *ngIf="chartUrl">
  <mat-card-header>
    <mat-card-title>{{ title }}</mat-card-title>
    <mat-card-subtitle>Generated Chart Visualization</mat-card-subtitle>
    <div class="spacer"></div>
    <button 
      *ngIf="displayUrl"
      mat-icon-button 
      matTooltip="Download Chart"
      class="download-button"
      (click)="downloadChart()">
      <mat-icon>download</mat-icon>
    </button>
  </mat-card-header>
  
  <mat-card-content>
    <!-- Chart Image -->
    <div *ngIf="displayUrl" class="chart-image-container">
      <img 
        [src]="displayUrl" 
        [alt]="title"
        class="chart-image"
        (error)="onImageError($event)">
    </div>
    
    <!-- Fallback Message -->
    <div *ngIf="!displayUrl" class="chart-fallback">
      <div class="fallback-content">
        <mat-icon class="fallback-icon">bar_chart</mat-icon>
        <h3 class="fallback-title">Chart Not Available</h3>
        <p class="fallback-description">The chart could not be loaded. This might be due to:</p>
        <mat-list class="fallback-list">
          <mat-list-item>
            <mat-icon matListItemIcon>error</mat-icon>
            <span matListItemTitle>The chart generation failed</span>
          </mat-list-item>
          <mat-list-item>
            <mat-icon matListItemIcon>error</mat-icon>
            <span matListItemTitle>The backend server is not running</span>
          </mat-list-item>
          <mat-list-item>
            <mat-icon matListItemIcon>error</mat-icon>
            <span matListItemTitle>There was an error in the chart creation process</span>
          </mat-list-item>
        </mat-list>
      </div>
    </div>
  </mat-card-content>
</mat-card> 