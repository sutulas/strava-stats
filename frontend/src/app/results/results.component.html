<div class="max-w-4xl mx-auto" *ngIf="response">
  <!-- Results Header -->
  <div class="card mb-6">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-2xl font-semibold text-gray-900">Analysis Results</h2>
      <button
        (click)="onClearResults()"
        class="btn-secondary">
        Clear Results
      </button>
    </div>
    
    <div class="grid md:grid-cols-2 gap-6 text-sm text-gray-600">
      <div>
        <span class="font-medium">Query:</span> {{ response.query }}
      </div>
      <div>
        <span class="font-medium">Execution Time:</span> {{ response.execution_time.toFixed(2) }}s
      </div>
    </div>
  </div>

  <!-- Analysis Response -->
  <div class="card mb-6">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">Analysis</h3>
    <div class="prose max-w-none">
      <markdown [data]="response.response"></markdown>
    </div>
  </div>

  <!-- Chart Display -->
  <app-chart-display 
    *ngIf="chartUrl"
    [chartUrl]="chartUrl"
    title="Generated Chart">
  </app-chart-display>

  <!-- No Results Message -->
  <div *ngIf="!response.response && !chartUrl" class="card text-center">
    <div class="text-gray-500">
      <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
      </svg>
      <p class="text-lg font-medium text-gray-900 mb-2">No Results Generated</p>
      <p class="text-gray-600">The analysis didn't produce any specific results. Try a different query.</p>
    </div>
  </div>
</div> 